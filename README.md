# Task manager API

## Sobre

<p align="justify"> Trata-se de uma API rest respons√°vel por armazenar tarefas do usu√°rio. Cada tarefa possui um titulo, uma descri√ß√£o e um status que pode  constar como conclu√≠do, em progresso e pendente. Al√©m disso, cada tarefa apresenta um token que deve ser usado como refer√™ncia em algumas das opera√ß√µes da aplica√ß√£o.
A API √© capaz de criar novas tarefas, listar as tarefas armazenadas no banco de dados, editar e excluir tarefas. </p>

## üõ† Tecnologias e libs utilizadas

As seguintes ferramentas foram utilizadas na constru√ß√£o do projeto:

- [JavaScript](https://developer.mozilla.org/pt-BR/docs/Web/JavaScript)
- [Sequelize](https://sequelize.org/)
- [Mysql](https://www.mysql.com/)
- [Docker](https://www.docker.com/)
- [node.js](https://nodejs.org/en)
- [express](https://expressjs.com/pt-br/)

## ‚öôÔ∏è Instala√ß√£o

Antes de iniciar, certifique-se de ter o docker e docker-compose instalados em seu computador.

1. Clone este repost√≥rio em seu computador local:

```bash
git clone git@github.com:Gui-lfm/task-manager-api.git
cd task-manager-api
```

2. Execute o Docker Compose para iniciar os servi√ßos da aplica√ß√£o:

```bash
docker-compose up -d --build
```
3. Acesse o container node gerado pelo compose:

```bash
docker exec -it api bash
```

4. Dentro do container, instale as depend√™ncias:

```bash
npm install
```
5.Execute as migra√ß√µes do banco de dados para criar as tabelas necess√°rias:

```bash
npx sequelize db:migrate
```

6. Execute os seeders para preencher o banco de dados com dados de exemplo:

```bash
npx sequelize db:seed:all
```
7. Por fim, inicie a api com o nodemon

```bash
npm run dev
```
O servidor agora deve estar em execu√ß√£o em http://localhost:3001

## ‚ÜóÔ∏è Endpoints

### /task

- Utilizando o m√©todo GET:
  - Retorna um JSON com todas as tarefas armazenadas no banco de dados;
  - √â poss√≠vel filtrar as tarefas pelo seu status, mostrando somente as conclu√≠das, em andamento ou pendentes utilizando query strings ex: ```task?status=conclu√≠da```

- Utilizando o m√©todo POST:
  - Deve inserir uma tarefa no banco de dados. Para que a requisi√ß√£o ocorra, deve estar presente no corpo da requisi√ß√£o os campos title, description e status, todos do tipo string;
  - Caso algum do campos solicitados n√£o estejam presentes, retorna um erro de c√≥digo 400;
  - Caso a inser√ß√£o ocorra com sucesso, retorna o c√≥digo 201 junto da tarefa inserida no banco de dados e um token que deve ser utlizado nas opera√ß√µes de edi√ß√£o e remo√ß√£o da tarefa criada.
  - O corpo da requisi√ß√£o dever√° seguir o formato abaixo:
  
  ```json
  {
  "title": "Faxina",
  "description": "limpeza semanal da casa",
  "status": "conclu√≠da"
  }
  ```

### /task/:id

- Utilizando o m√©todo PATCH:
  - Respons√°vel por editar uma tarefa existente no banco de dados;
  - A tarefa editada ser√° correspondente ao id especificado no par√¢metro da URL;
  - Al√©m disso, o usu√°rio tamb√©m deve informar o token correspondente nos headers da aplica√ß√£o;
  - Caso o token n√£o esteja presente ou n√£o seja v√°lido, retorna um erro de c√≥digo 401;
  - Caso o id especificado n√£o corresponda a nenhuma tarefa, retorna um erro de c√≥digo 404;
  - Caso os campos de edi√ß√£o n√£o estejam presentes, retorna um erro de c√≥digo 400;
  - Em caso de sucesso, retorna o c√≥digo 200 junto da tarefa editada.
  - O corpo da requisi√ß√£o deve possuir o seguinte formato:
  
  ```json
  {
  "description": "limpeza quinzenal da casa",
  "status": "em andamento"
  }
  ```

- Utilizando o m√©todo DELETE:
  - Respons√°vel por remover uma tarefa existente no banco de dados;
  - A tarefa deletada ser√° correspondente ao id especificado no par√¢metro da URL;
  - Al√©m disso, o usu√°rio tamb√©m deve informar o token correspondente nos headers da aplica√ß√£o;
  - Caso o token n√£o esteja presente ou n√£o seja v√°lido, retorna um erro de c√≥digo 401;
  - Caso o id especificado n√£o corresponda a nenhuma tarefa, retorna um erro de c√≥digo 404;
  - Em caso de sucesso, retorna o c√≥digo 204.
